<script src="https://d3js.org/d3.v7.min.js"></script>
<svg width=800 height=1080></svg>
<script>
	const reducer = (previousValue, currentValue) => previousValue + currentValue;
	var width = 800;
	var height = 1080;
	var size = 200
	var lines = 6;
	var svg = d3.select("svg");
	svg.append('circle')
		.attr('cx', width / 2)
		.attr('cy', height / 2)
		.attr('r', size)
		.attr('fill', 'black');
		
	var angles = [];
	var nums = [];
	var x = [];
	var y = [];
	var sum = 0;
	var pair = [];
	var val = 0;
	for(let i = 0; i < 2; i++) {
		if(i == 0) {
			val += Math.floor(Math.random() * 3) + 1;
			pair[i] = (val % 6);
		}
		else if (i == 1) {
			val += Math.floor(Math.random() * 3) + 1;
			pair[i] = (val % 6);
		}
	}	
	for(let i = 0; i < lines; i++) {
		sum += Math.floor(Math.random() * 30) + 30;
		if(i == 0){
			sum = 0;
		}
		nums[i] = sum;
		x[i] = (Math.cos((sum / 180) * Math.PI) * 200) + (width / 2);
		y[i] = (Math.sin((sum / 180) * Math.PI) * 200) + (height / 2);
		svg.append('line')
			.style("stroke", "red")
			.style("stroke-width", 5)
			.attr("x1", width / 2)
			.attr("y1", height / 2)
			.attr("x2", x[i])
			.attr("y2", y[i]);
		<!-- if(i == 0) {		 -->
			<!-- svg.append("text") -->
				<!-- .attr("x", (Math.cos((sum / 180) * Math.PI) * 300) + (width / 2)) -->
				<!-- .attr("y", (Math.sin((sum / 180) * Math.PI) * 300) + (height / 2)) -->
				<!-- .text(0); -->
		<!-- } -->
		<!-- else {		 -->
			<!-- svg.append("text") -->
				<!-- .attr("x", (Math.cos((sum / 180) * Math.PI) * 300) + (width / 2)) -->
				<!-- .attr("y", (Math.sin((sum / 180) * Math.PI) * 300) + (height / 2)) -->
				<!-- .text(nums[i] - nums[i - 1]); -->
		<!-- } -->
	}
	
	var total = 0;
	for(let i = 0; i < lines; i++) {
		if(i == 0){
			angles[i] = 0;
			continue;
		}
		else {
			total += nums[i] - nums[i - 1];
			angles[i] = nums[i] - nums[i - 1];
		}
	}
	for(let i = 0; i < pair.length; i++) {	
		var small = nums[pair[i]] + (nums[(pair[i] + 1) % 6] - nums[pair[i]]) / 2;
		if(pair[i] == (lines - 1)) {
			small += 180;
			svg.append('circle')
				.attr('cx', (width / 2) + ((Math.cos((small / 180) * Math.PI) * 140)))
				.attr('cy', (height / 2) + ((Math.sin((small / 180) * Math.PI) * 140)))
				.attr('r', 10)
				.attr('fill', 'yellow');
		}
		else {
			svg.append('circle')
				.attr('cx', (width / 2) + ((Math.cos((small / 180) * Math.PI) * 140)))
				.attr('cy', (height / 2) + ((Math.sin((small / 180) * Math.PI) * 140)))
				.attr('r', 10)
				.attr('fill', 'yellow');
		}	
	}
	document.write("<br>");
	angles.push(360 - angles.reduce(reducer));
	document.write(pair);
	document.write("<br>");
	if(angles[pair[1] + 1] > angles[pair[0] + 1]) {
		document.write("Angle %: " + (angles[pair[0] + 1] / angles[pair[1] + 1]));
	}
	else {
		document.write("Angle %: " + (angles[pair[1] + 1] / angles[pair[0] + 1]));
	}
</script>
