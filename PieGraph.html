<!DOCTYPE html>
<html lang ="en">
<head>
	<script src="https://d3js.org/d3.v7.min.js" charset="utf-8"  crossorigin="anonymous"></script>
	<meta name="viewport" content="width=device-width" charset="utf-8">

	<script type="text/javascript" src="app.js"></script>

	<style type="text/css">
		.container {
       		text-align: center;
			display: flex;
  			justify-content: center;
			font-family: 'Quicksand', sans-serif;
		}
		.input {
    		display: inline-block;
		}
		.btn {
			margin-top: 10px;
			display: flex;
  			justify-content: center;
		}
		.graph{
			display: block;
			height: 400px;
			width: 600px;
			margin-left: auto;
 		    margin-right: auto;
		}

	</style>

<link href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap" rel="stylesheet" charset="utf-8" crossorigin="anonymous">

</head>
<title>PieGraph</title>  
<body onload="generatePieGraph()">
	<svg class="graph" width="500" height="400"></svg>
	<p class="container">Please input how much smaller you think the indicated slice is from the larger one</p><br>
	<div class="container">
		<input type="text" class="input" id="userInput" title="input"></input>
		<p class="input">   %</p>
	</div>
	<div class="btn">
		<form id="form" method="post" action="/addResults">  
			<button type="submit" onclick="calcInput()">Submit</button>
		</form>
		<form id="form1" method="get" action="/bb">
			<a href="/bb">Next</a>
		</form>
	</div>
		
</body>
</html>

<script>

console.log(d3);
// Random Dataset
var data = [
	{num: 1, val: 23},
	{num: 2, val: 16},
	{num: 3, val: 20},
	{num: 4, val: 31},
	{num: 5, val: 10}
];


// var point1 = data.Math.floor(Math.random(5) * 10);
// var point2 = data.Math.floor((Math.random(5)) * 10);

// while (point1 == point2){
//     point2 = data[Math.floor((Math.random(5)) * 10)]
// }

console.log(data);
// console.log(point1);
// console.log(point2);

function generatePieGraph(){
	console.log("making graph");
    // Display data
	var svg = d3.select("svg"),
            width = svg.attr("width"),
            height = svg.attr("height"),
            radius = 150;

	var g = svg.append("g")
            .attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

	var pie = d3.pie().value(function(d) { 
		return d.val; 
    });

    var arc = g.selectAll("arc")
        .data(pie(data))
		.enter().append("g")
        .attr("class", "arc");

	var path = d3.arc()
	    .outerRadius(radius)
        .innerRadius(0);

    arc.append("path")
        .attr("d", path)
		.style("fill", "white")
        .style("stroke", "black")
		.style("stroke-width", "2px");

	var label = d3.arc()
        .outerRadius(radius)
        .innerRadius(0)
		.attr("translate", );
            
    arc.append("text")
        .attr("transform", function(d) { 
        return "translate(" + label.centroid(d) + ")"; 
    })
        .text(function(d) { return d.data.num; });
		
	svg.append("g")
        .attr("transform", "translate(" + (width / 2 - 120) + "," + 20 + ")")
        .append("text")
        .text("Browser use statistics - Jan 2017")
        .attr("class", "title")
 
 }
</script>
